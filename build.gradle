plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
    id("io.freefair.lombok") version "8.13.1"
    id("com.osmerion.lwjgl3") version "0.5.0"
}

group = 'com.james090500'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        url "https://oss.sonatype.org/content/repositories/snapshots/"
    }
}

dependencies {
    implementation "org.joml:joml:1.10.8"
}

shadowJar {
    archiveClassifier.set("") // remove "-all" from filename
    manifest {
        attributes (
            'Main-Class': 'com.james090500.Main'
        )
    }
}

lwjgl3 {
    targets.named("main") {
        // Modules
        modules.add("lwjgl")
        modules.add("lwjgl-glfw")
        modules.add("lwjgl-opengl")
        modules.add("lwjgl-stb")

        // Platforms
        macosARM64()
        macosX64()
        windowsX64()
        linuxX64()
    }
}